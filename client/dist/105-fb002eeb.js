"use strict";(self.webpackChunkimmortal_regiment=self.webpackChunkimmortal_regiment||[]).push([[105],{3105:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ie});var r,a=n(5893),o=n(4807),l=n(2594),i=n(7294);!function(e){e.INCORRECT_USER_DATA="incorrect_user_data",e.INCORRECT_USER_AGE="incorrect_user_age",e.INCORRECT_USER_COUNTRY="incorrect_user_country",e.SERVER_ERROR="server_error",e.NO_DATA="no_data"}(r||(r={}));var s=n(7168),c=(0,s.hg)("profile/fetchProfileData",(function(e,t){return n=void 0,r=void 0,o=function(){var e,n,r,a;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(o){switch(o.label){case 0:e=t.extra,n=t.rejectWithValue,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,e.api.post("/profile")];case 2:if(!(r=o.sent()).data)throw new Error;return[2,r.data];case 3:return a=o.sent(),console.log(a),[2,n("error")];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function l(e){try{s(o.next(e))}catch(e){t(e)}}function i(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(l,i)}s((o=o.apply(n,r||[])).next())}));var n,r,a,o})),u=(0,s.hg)("profile/updateProfileData",(function(e,t){return n=void 0,r=void 0,o=function(){var e,n,r,a,o;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(l){switch(l.label){case 0:e=t.extra,n=t.rejectWithValue,r=t.getState,a=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.form}(r()),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,e.api.put("/profile",a)];case 2:return[2,l.sent().data];case 3:return o=l.sent(),console.log(o),[2,n("updating profile error")];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function l(e){try{s(o.next(e))}catch(e){t(e)}}function i(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(l,i)}s((o=o.apply(n,r||[])).next())}));var n,r,a,o})),d=(0,s.oM)({name:"profileSlice",initialState:{authData:void 0,error:void 0,isLoading:!1,readonly:!0,form:void 0},reducers:{setReadonly:function(e,t){e.readonly=t.payload},cancelEdit:function(e){e.readonly=!0,e.form=e.authData},changeFirstname:function(e,t){e.authData={firstname:t.payload}},changeLastname:function(e,t){e.authData={lastname:t.payload}},changeMiddlename:function(e,t){e.authData={middlename:t.payload}}},extraReducers:function(e){e.addCase(c.pending,(function(e){e.error=void 0,e.isLoading=!0})).addCase(c.fulfilled,(function(e,t){e.isLoading=!1,e.authData=t.payload,e.form=t.payload})).addCase(c.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload})).addCase(u.pending,(function(e){e.isLoading=!0,e.error=void 0})).addCase(u.fulfilled,(function(e,t){e.isLoading=!1,e.authData=t.payload,e.form=t.payload,e.readonly=!0})).addCase(u.rejected,(function(e,t){e.isLoading=!1,e.error=t.payload}))}}),f=d.actions,p=d.reducer,h=((0,s.hg)("profile/fetchProfileHeroes",(function(e,t){return n=void 0,r=void 0,o=function(){var n,r,a,o;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(l){switch(l.label){case 0:n=t.extra,r=t.rejectWithValue,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.api.get("/profiles/".concat(e))];case 2:if(!(a=l.sent()).data)throw new Error;return[2,a.data];case 3:return o=l.sent(),console.log(o),[2,r("error")];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function l(e){try{s(o.next(e))}catch(e){t(e)}}function i(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(l,i)}s((o=o.apply(n,r||[])).next())}));var n,r,a,o})),n(5025)),v=n(2540),m=n(6286),y=n(3379),b=n.n(y),g=n(7795),x=n.n(g),w=n(569),E=n.n(w),j=n(3565),S=n.n(j),P=n(9216),C=n.n(P),k=n(4589),R=n.n(k),O=n(5108),T={};T.styleTagTransform=R(),T.setAttributes=S(),T.insert=E().bind(null,"head"),T.domAPI=x(),T.insertStyleElement=C(),b()(O.Z,T);const N=O.Z&&O.Z.locals?O.Z.locals:void 0;var I=function(){return I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},I.apply(this,arguments)},A=function(e){var t,n=e.className,r=e.data,l=e.isLoading,i=e.error,s=e.readonly,c=e.onChangeFirstname,u=e.onChangeMiddlename,d=e.onChangeLastname;if(l)return(0,a.jsx)("div",I({className:(0,o.A)(N.ProfileCard,{},[n,N.loader])},{children:(0,a.jsxs)("div",I({className:N.skeletons},{children:[(0,a.jsx)(m.O,{className:N.avatarSkeleton,width:150,height:150,border:"20%"}),(0,a.jsx)(m.O,{width:"100%",height:30,border:"10px"}),(0,a.jsx)(m.O,{width:"100%",height:30,border:"10px"}),(0,a.jsx)(m.O,{width:"100%",height:30,border:"10px"})]}))}));if(i)return(0,a.jsx)("div",I({className:(0,o.A)(N.ProfileCard,{},[n,N.error])},{children:(0,a.jsx)(h.xv,{theme:h.lg.ERROR,title:"Произошла ошибка при загрузке профиля",text:"Попробуйте перезагрузить страницу",align:h.PH.CENTER})}));var f=((t={})[N.editing]=!s,t);return(0,a.jsxs)("div",I({className:(0,o.A)(N.ProfileCard,f,[n])},{children:[(0,a.jsx)("img",{className:N.avatarSkeleton,src:"/images/users/".concat(null==r?void 0:r.photo),alt:null==r?void 0:r.lastname}),(0,a.jsx)(v.I,{value:null==r?void 0:r.middlename,placeholder:"Ваша фамилия",className:N.input,onChange:d,readonly:s}),(0,a.jsx)(v.I,{value:null==r?void 0:r.firstname,placeholder:"Ваше имя",className:N.input,onChange:c,readonly:s}),(0,a.jsx)(v.I,{value:null==r?void 0:r.middlename,placeholder:"Ваше отчество",className:N.input,onChange:u,readonly:s})]}))},D=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.isLoading},Z=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.error},L=function(e){return e.user.authData},M=function(e){var t;return null===(t=e.profile)||void 0===t?void 0:t.readonly},F=n(2672),H=n(6372),_=n(6088),U=n(1861),z=n(8837),W=(0,s.hg)("profile/changePassword",(function(e,t){return n=void 0,r=void 0,o=function(){var n,r,a,o;return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(l){switch(l.label){case 0:n=t.extra,r=t.rejectWithValue,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.api.post("/changePassword",e,{headers:{"Content-type":"application/json",flag:"super-secret-flag-4toby-vse-dymali-4to-ya-trushHbIy-weber"}})];case 2:if(!(a=l.sent()).data)throw new Error;return[2,a.data];case 3:return o=l.sent(),console.log(o),[2,r("error creating award")];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function l(e){try{s(o.next(e))}catch(e){t(e)}}function i(e){try{s(o.throw(e))}catch(e){t(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(l,i)}s((o=o.apply(n,r||[])).next())}));var n,r,a,o})),B=n(2925),V={};V.styleTagTransform=R(),V.setAttributes=S(),V.insert=E().bind(null,"head"),V.domAPI=x(),V.insertStyleElement=C(),b()(B.Z,V);const Y=B.Z&&B.Z.locals?B.Z.locals:void 0;var $,G,K=function(){return K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},K.apply(this,arguments)},J=(0,i.memo)((function(e){var t=e.className,n=(0,F.T)(),r=(0,i.useState)(""),l=r[0],s=r[1],c=(0,i.useState)(""),u=c[0],d=c[1],f=(0,i.useState)(""),p=f[0],m=f[1],y=(0,i.useState)(""),b=y[0],g=y[1],x=(0,i.useState)(!1),w=x[0],E=x[1],j=(0,i.useCallback)((function(e){E(!1),g(""),d(e)}),[]),S=(0,i.useCallback)((function(e){E(!1),g(""),s(e)}),[]),P=(0,i.useCallback)((function(e){E(!1),g(""),m(e)}),[]),C=(0,i.useCallback)((function(e){return t=void 0,r=void 0,o=function(){return function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){l.label=i[1];break}if(6===i[0]&&l.label<a[1]){l.label=a[1],a=i;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(i);break}a[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}(this,(function(t){switch(t.label){case 0:return e.preventDefault(),u!==p?(g("Введенные пароли не совпадают"),E(!0),[2]):[4,n(W({oldPassword:l,newPassword:u}))];case 1:return"fulfilled"===t.sent().meta.requestStatus?(g("Пароль успешно изменен"),E(!1)):(g("Неверный старый пароль"),E(!0)),[2]}}))},new((a=void 0)||(a=Promise))((function(e,n){function l(e){try{s(o.next(e))}catch(e){n(e)}}function i(e){try{s(o.throw(e))}catch(e){n(e)}}function s(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(l,i)}s((o=o.apply(t,r||[])).next())}));var t,r,a,o}),[n,u,l,p]);return(0,a.jsxs)("form",K({className:(0,o.A)(Y.ChangePasswordForm,{},[t])},{children:[(0,a.jsx)(h.xv,{text:b,theme:w?h.lg.ERROR:h.lg.PRIMARY}),(0,a.jsx)(v.I,{autoFocus:!0,placeholder:"Введите старый пароль",onChange:S,value:l}),(0,a.jsx)(v.I,{autoFocus:!0,placeholder:"Введите новый пароль",value:u,onChange:j}),(0,a.jsx)(v.I,{autoFocus:!0,placeholder:"Подтвердите новый пароль",value:p,onChange:P}),(0,a.jsx)(U.z,K({className:Y.button,onClick:C,theme:w?z.bn.ERROR:z.bn.SUCCESS},{children:"Сменить пароль"}))]}))})),q=n(2984),X=n(2351),Q=n(3784),ee=n(5910),te=n(1363),ne=n(4103),re=n(6567),ae=n(4157),oe=n(5466),le=n(3781),ie=((G=ie||{})[G.Open=0]="Open",G[G.Closed=1]="Closed",G),se=(($=se||{})[$.ToggleDisclosure=0]="ToggleDisclosure",$[$.CloseDisclosure=1]="CloseDisclosure",$[$.SetButtonId=2]="SetButtonId",$[$.SetPanelId=3]="SetPanelId",$[$.LinkPanel=4]="LinkPanel",$[$.UnlinkPanel=5]="UnlinkPanel",$);let ce={0:e=>({...e,disclosureState:(0,q.E)(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},ue=(0,i.createContext)(null);function de(e){let t=(0,i.useContext)(ue);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,de),t}return t}ue.displayName="DisclosureContext";let fe=(0,i.createContext)(null);function pe(e){let t=(0,i.useContext)(fe);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pe),t}return t}fe.displayName="DisclosureAPIContext";let he=(0,i.createContext)(null);function ve(e,t){return(0,q.E)(t.type,ce,e,t)}he.displayName="DisclosurePanelContext";let me=i.Fragment,ye=(0,X.yV)((function(e,t){let{defaultOpen:n=!1,...r}=e,a=(0,i.useRef)(null),o=(0,Q.T)(t,(0,Q.h)((e=>{a.current=e}),void 0===e.as||e.as===i.Fragment)),l=(0,i.useRef)(null),s=(0,i.useRef)(null),c=(0,i.useReducer)(ve,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:s,panelRef:l,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:d},f]=c,p=(0,le.z)((e=>{f({type:1});let t=(0,oe.r)(a);if(!t||!d)return;let n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(d):t.getElementById(d);null==n||n.focus()})),h=(0,i.useMemo)((()=>({close:p})),[p]),v=(0,i.useMemo)((()=>({open:0===u,close:p})),[u,p]),m={ref:o};return i.createElement(ue.Provider,{value:c},i.createElement(fe.Provider,{value:h},i.createElement(re.up,{value:(0,q.E)(u,{0:re.ZM.Open,1:re.ZM.Closed})},(0,X.sY)({ourProps:m,theirProps:r,slot:v,defaultTag:me,name:"Disclosure"}))))})),be=(0,X.yV)((function(e,t){let n=(0,ee.M)(),{id:r=`headlessui-disclosure-button-${n}`,...a}=e,[o,l]=de("Disclosure.Button"),s=(0,i.useContext)(he),c=null!==s&&s===o.panelId,u=(0,i.useRef)(null),d=(0,Q.T)(u,t,c?null:o.buttonRef);(0,i.useEffect)((()=>{if(!c)return l({type:2,buttonId:r}),()=>{l({type:2,buttonId:null})}}),[r,l,c]);let f=(0,le.z)((e=>{var t;if(c){if(1===o.disclosureState)return;switch(e.key){case te.R.Space:case te.R.Enter:e.preventDefault(),e.stopPropagation(),l({type:0}),null==(t=o.buttonRef.current)||t.focus()}}else switch(e.key){case te.R.Space:case te.R.Enter:e.preventDefault(),e.stopPropagation(),l({type:0})}})),p=(0,le.z)((e=>{e.key===te.R.Space&&e.preventDefault()})),h=(0,le.z)((t=>{var n;(0,ne.P)(t.currentTarget)||e.disabled||(c?(l({type:0}),null==(n=o.buttonRef.current)||n.focus()):l({type:0}))})),v=(0,i.useMemo)((()=>({open:0===o.disclosureState})),[o]),m=(0,ae.f)(e,u),y=c?{ref:d,type:m,onKeyDown:f,onClick:h}:{ref:d,id:r,type:m,"aria-expanded":e.disabled?void 0:0===o.disclosureState,"aria-controls":o.linkedPanel?o.panelId:void 0,onKeyDown:f,onKeyUp:p,onClick:h};return(0,X.sY)({ourProps:y,theirProps:a,slot:v,defaultTag:"button",name:"Disclosure.Button"})})),ge=X.AN.RenderStrategy|X.AN.Static,xe=(0,X.yV)((function(e,t){let n=(0,ee.M)(),{id:r=`headlessui-disclosure-panel-${n}`,...a}=e,[o,l]=de("Disclosure.Panel"),{close:s}=pe("Disclosure.Panel"),c=(0,Q.T)(t,o.panelRef,(e=>{l({type:e?4:5})}));(0,i.useEffect)((()=>(l({type:3,panelId:r}),()=>{l({type:3,panelId:null})})),[r,l]);let u=(0,re.oJ)(),d=null!==u?u===re.ZM.Open:0===o.disclosureState,f=(0,i.useMemo)((()=>({open:0===o.disclosureState,close:s})),[o,s]),p={ref:c,id:r};return i.createElement(he.Provider,{value:o.panelId},(0,X.sY)({ourProps:p,theirProps:a,slot:f,defaultTag:"div",features:ge,visible:d,name:"Disclosure.Panel"}))})),we=Object.assign(ye,{Button:be,Panel:xe});var Ee=n(2667),je={};je.styleTagTransform=R(),je.setAttributes=S(),je.insert=E().bind(null,"head"),je.domAPI=x(),je.insertStyleElement=C(),b()(Ee.Z,je);const Se=Ee.Z&&Ee.Z.locals?Ee.Z.locals:void 0;var Pe=function(){return Pe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Pe.apply(this,arguments)},Ce=function(e){var t=e.className,n=e.content;return(0,a.jsx)("div",Pe({className:(0,o.A)(Se.HDisclosureWrapper,{},[t])},{children:null==n?void 0:n.map((function(e){return(0,a.jsx)(we,{children:function(t){var n,r=t.open;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(we.Button,Pe({as:U.z,theme:z.bn.OUTLINED,className:(0,o.A)("",(n={},n[Se.opened]=r,n))},{children:e.title})),(0,a.jsx)(we.Panel,{children:e.content})]})}},e.title)}))}))},ke=n(6749),Re={};Re.styleTagTransform=R(),Re.setAttributes=S(),Re.insert=E().bind(null,"head"),Re.domAPI=x(),Re.insertStyleElement=C(),b()(ke.Z,Re);const Oe=ke.Z&&ke.Z.locals?ke.Z.locals:void 0;var Te=function(){return Te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Te.apply(this,arguments)},Ne={profile:p};const Ie=(0,i.memo)((function(e){var t=e.className,n=(0,F.T)(),r=(0,H.v9)(L),s=(0,H.v9)(D),u=(0,H.v9)(Z),d=(0,H.v9)(M);(0,i.useEffect)((function(){document.title="Профиль",n(c())}),[n]);var p=(0,i.useCallback)((function(e){n(f.changeFirstname(e))}),[n]),h=(0,i.useCallback)((function(e){n(f.changeLastname(e))}),[n]),v=(0,i.useCallback)((function(e){n(f.changeMiddlename(e))}),[n]);return(0,a.jsx)(_.W,Te({reducers:Ne},{children:(0,a.jsxs)(l.T,Te({className:(0,o.A)("",{},[t])},{children:[(0,a.jsx)(U.z,Te({theme:d?z.bn.SUCCESS:z.bn.ERROR,onClick:function(){n(f.setReadonly(!d))},disabled:!0},{children:d?"Изменить":"Отменить"})),(0,a.jsx)(A,{data:r,onChangeFirstname:p,onChangeLastname:h,onChangeMiddlename:v,readonly:d,isLoading:s,error:u}),(0,a.jsx)(Ce,{className:Oe.changePassForm,content:[{title:"Сменить пароль",content:(0,a.jsx)(J,{})},{title:"Восстановить пароль",content:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("h1",{children:"Пока пусто("})})}]})]}))}))}))},2540:(e,t,n)=>{n.d(t,{I:()=>E});var r=n(5893),a=n(7294),o=n(4807),l=n(3379),i=n.n(l),s=n(7795),c=n.n(s),u=n(569),d=n.n(u),f=n(3565),p=n.n(f),h=n(9216),v=n.n(h),m=n(4589),y=n.n(m),b=n(6408),g={};g.styleTagTransform=y(),g.setAttributes=p(),g.insert=d().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=v(),i()(b.Z,g);const x=b.Z&&b.Z.locals?b.Z.locals:void 0;var w=function(){return w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},w.apply(this,arguments)},E=(0,a.memo)((function(e){var t,n=(0,a.useState)(!1),l=n[0],i=n[1],s=(0,a.useState)(0),c=s[0],u=s[1],d=(0,a.useRef)(null),f=e.className,p=e.value,h=e.onChange,v=e.placeholder,m=e.type,y=void 0===m?"text":m,b=e.autoFocus,g=e.readonly,E=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","value","onChange","placeholder","type","autoFocus","readonly"]);(0,a.useEffect)((function(){var e;b&&(i(!0),null===(e=d.current)||void 0===e||e.focus())}),[b]);var j=((t={})[x.readonly]=g,t);return(0,r.jsxs)("div",w({className:(0,o.A)(x.InputWrapper,j,[f])},{children:[v&&(0,r.jsx)("div",w({className:x.placeholder},{children:"".concat(v,">")})),(0,r.jsxs)("div",w({className:x.caretWrapper},{children:[(0,r.jsx)("input",w({ref:d,value:p||"",onChange:function(e){null==h||h(e.target.value),u(e.target.value.length)},className:x.Input,type:y,onFocus:function(){return i(!0)},onBlur:function(){return i(!1)},onSelect:function(e){var t;return u((null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.selectionStart)||0)},readOnly:g},E)),l&&!g&&(0,r.jsx)("span",{className:x.caret,style:{left:"".concat(8.8*c,"px")}})]}))]}))}))},6286:(e,t,n)=>{n.d(t,{O:()=>x});var r=n(5893),a=n(4807),o=n(3379),l=n.n(o),i=n(7795),s=n.n(i),c=n(569),u=n.n(c),d=n(3565),f=n.n(d),p=n(9216),h=n.n(p),v=n(4589),m=n.n(v),y=n(2445),b={};b.styleTagTransform=m(),b.setAttributes=f(),b.insert=u().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=h(),l()(y.Z,b);const g=y.Z&&y.Z.locals?y.Z.locals:void 0;var x=function(e){var t=e.className,n={width:e.width,height:e.height,borderRadius:e.border};return(0,r.jsx)("div",{className:(0,a.A)(g.Skeleton,{},[t]),style:n})}},5025:(e,t,n)=>{n.d(t,{xv:()=>P,PH:()=>E,lg:()=>w});var r=n(5893),a=n(4807),o=n(7294),l=n(3379),i=n.n(l),s=n(7795),c=n.n(s),u=n(569),d=n.n(u),f=n(3565),p=n.n(f),h=n(9216),v=n.n(h),m=n(4589),y=n.n(m),b=n(2767),g={};g.styleTagTransform=y(),g.setAttributes=p(),g.insert=d().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=v(),i()(b.Z,g);const x=b.Z&&b.Z.locals?b.Z.locals:void 0;var w,E,j,S=function(){return S=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},S.apply(this,arguments)};!function(e){e.PRIMARY="primary",e.INVERTED="inverted",e.ERROR="error"}(w||(w={})),function(e){e.LEFT="left",e.CENTER="center",e.RIGHT="right"}(E||(E={})),function(e){e.M="size_m",e.L="size_l"}(j||(j={}));var P=(0,o.memo)((function(e){var t=e.className,n=e.title,o=e.text,l=e.theme,i=void 0===l?w.PRIMARY:l,s=e.align,c=void 0===s?E.LEFT:s,u=e.size,d=void 0===u?j.M:u,f=e.indent,p=[t,x[i],x[c],x[d]],h={textIndent:f};return(0,r.jsxs)("div",S({className:(0,a.A)(x.Text,{},p),style:h},{children:[n&&(0,r.jsx)("p",S({className:x.title},{children:n})),o&&(0,r.jsx)("p",S({className:x.text},{children:o}))]}))}))},6088:(e,t,n)=>{n.d(t,{W:()=>l});var r=n(5893),a=n(7294),o=n(6372),l=function(e){var t=(0,o.oR)(),n=(0,o.I0)(),l=e.children,i=e.reducers,s=e.removeAfterUnmount,c=void 0===s||s;return(0,a.useEffect)((function(){var e=t.reducerManager.getMountedReducers;return Object.entries(i).forEach((function(r){var a=r[0],o=r[1];e[a]||(t.reducerManager.add(a,o),n({type:"@INIT ".concat(a," reducer")}))})),function(){c&&Object.entries(i).forEach((function(e){var r=e[0];t.reducerManager.remove(r),n({type:"@DESTROY ".concat(r," reducer")})}))}}),[]),(0,r.jsx)(r.Fragment,{children:l})}},5108:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(8081),a=n.n(r),o=n(3645),l=n.n(o)()(a());l.push([e.id,".c16f6{padding:20px;border:3px solid var(--inverted-bg-color)}.c97f3{margin:5px 0}.c97f3:last-child{margin-top:0}.c97f3:first-child{margin-bottom:0}.fd22e,.b960a{display:flex;align-items:center;justify-content:center}.c414d{width:100%;display:flex;justify-content:center;margin-bottom:30px}.e34de{border:3px solid var(--inverted-primary-color)}.a876f{width:150px;height:150px;border-radius:20%;align-self:center;margin-left:50%;transform:translateX(-50%)}.ddd3a{width:100%;display:flex;flex-direction:column;align-items:flex-start;gap:15px}",""]),l.locals={ProfileCard:"c16f6",input:"c97f3",loader:"fd22e",error:"b960a",avatarWrapper:"c414d",editing:"e34de",avatarSkeleton:"a876f",skeletons:"ddd3a"};const i=l},2925:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(8081),a=n.n(r),o=n(3645),l=n.n(o)()(a());l.push([e.id,".a8684{display:flex;flex-direction:column;justify-content:flex-start;gap:10px;margin-top:10px}.c402b{margin-left:auto}",""]),l.locals={ChangePasswordForm:"a8684",button:"c402b"};const i=l},6749:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(8081),a=n.n(r),o=n(3645),l=n.n(o)()(a());l.push([e.id,".d7272{padding:20px;border:2px solid var(--inverted-bg-color);border-radius:15px;margin-top:20px}",""]),l.locals={changePassForm:"d7272"};const i=l},2667:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(8081),a=n.n(r),o=n(3645),l=n.n(o)()(a());l.push([e.id,".d371d{width:100%;padding:20px;border:2px solid red;border-radius:10px;display:flex;flex-direction:column;align-items:stretch;justify-content:flex-start}.d0734{background:#20b2aa}",""]),l.locals={HDisclosureWrapper:"d371d",opened:"d0734"};const i=l},6408:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(8081),a=n.n(r),o=n(3645),l=n.n(o)()(a());l.push([e.id,".d458b{padding:5px 10px;border:2px solid var(--primary-color);border-radius:5px;display:flex;align-items:center}.e6b06{opacity:.6;margin-right:5px}.d3816{width:100%;border:none;color:rgba(0,0,0,0);background:rgba(0,0,0,0);font:var(--font-m);text-shadow:0 0 0 var(--primary-color);outline:none}.f9574{flex-grow:1;position:relative}.c7bd2{width:9px;height:3px;background:var(--primary-color);position:absolute;bottom:0;left:0;animation:d2a2c forwards 600ms infinite}.ab8f6{cursor:not-allowed;opacity:.7}@keyframes d2a2c{0%{opacity:1}50%{opacity:.01}100%{opacity:0}}",""]),l.locals={InputWrapper:"d458b",placeholder:"e6b06",Input:"d3816",caretWrapper:"f9574",caret:"c7bd2",blink:"d2a2c",readonly:"ab8f6"};const i=l},2445:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(8081),a=n.n(r),o=n(3645),l=n.n(o)()(a());l.push([e.id,'.f3902{width:100%;height:50px;position:relative;box-shadow:0 2px 10px 0 var(--skeleton-shadow);overflow:hidden}.f3902::before{width:80%;height:100%;background:linear-gradient(to right, transparent 0%, var(--skeleton-color) 50%, transparent 100%);display:block;content:"";position:absolute;left:-150px;top:0;animation:c5699 1s cubic-bezier(0.4, 0, 0.2, 1) infinite}@keyframes c5699{from{left:-150px}to{left:100%}}',""]),l.locals={Skeleton:"f3902",load:"c5699"};const i=l},2767:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(8081),a=n.n(r),o=n(3645),l=n.n(o)()(a());l.push([e.id,".aab16{color:var(--primary-color)}.ced56{color:var(--secondary-color)}.a71c3 .aab16{color:var(--light-red)}.a71c3 .ced56{color:var(--dark-red)}.f66da .aab16{color:var(--inverted-primary-color)}.f66da .ced56{color:var(--inverted-primary-color)}.fdaa4 .aab16{font:var(--font-l)}.fdaa4 .ced56{font:var(--font-m)}.c8ab8 .aab16{font:var(--font-xl)}.c8ab8 .ced56{font:var(--font-l)}.c06fc{text-align:left}.a3f3a{text-align:center}.a8d8e{text-align:right}",""]),l.locals={title:"aab16",text:"ced56",error:"a71c3",inverted:"f66da",size_m:"fdaa4",size_l:"c8ab8",left:"c06fc",center:"a3f3a",right:"a8d8e"};const i=l},1363:(e,t,n)=>{n.d(t,{R:()=>a});var r,a=((r=a||{}).Space=" ",r.Enter="Enter",r.Escape="Escape",r.Backspace="Backspace",r.Delete="Delete",r.ArrowLeft="ArrowLeft",r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.Home="Home",r.End="End",r.PageUp="PageUp",r.PageDown="PageDown",r.Tab="Tab",r)},3781:(e,t,n)=>{n.d(t,{z:()=>o});var r=n(7294),a=n(3855);let o=function(e){let t=(0,a.E)(e);return r.useCallback(((...e)=>t.current(...e)),[t])}},5910:(e,t,n)=>{n.d(t,{M:()=>c});var r=n(7294),a=n(6723);let o={serverHandoffComplete:!1};var l;let i=0;function s(){return++i}let c=null!=(l=r.useId)?l:function(){let e=function(){let[e,t]=(0,r.useState)(o.serverHandoffComplete);return(0,r.useEffect)((()=>{!0!==e&&t(!0)}),[e]),(0,r.useEffect)((()=>{!1===o.serverHandoffComplete&&(o.serverHandoffComplete=!0)}),[]),e}(),[t,n]=r.useState(e?s:null);return(0,a.e)((()=>{null===t&&n(s())}),[t]),null!=t?""+t:void 0}},6723:(e,t,n)=>{n.d(t,{e:()=>a});var r=n(7294);let a=n(3393).s?r.useEffect:r.useLayoutEffect},3855:(e,t,n)=>{n.d(t,{E:()=>o});var r=n(7294),a=n(6723);function o(e){let t=(0,r.useRef)(e);return(0,a.e)((()=>{t.current=e}),[e]),t}},4157:(e,t,n)=>{n.d(t,{f:()=>l});var r=n(7294),a=n(6723);function o(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function l(e,t){let[n,l]=(0,r.useState)((()=>o(e)));return(0,a.e)((()=>{l(o(e))}),[e.type,e.as]),(0,a.e)((()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&l("button")}),[n,t]),n}},3784:(e,t,n)=>{n.d(t,{T:()=>i,h:()=>l});var r=n(7294),a=n(3781);let o=Symbol();function l(e,t=!0){return Object.assign(e,{[o]:t})}function i(...e){let t=(0,r.useRef)(e);(0,r.useEffect)((()=>{t.current=e}),[e]);let n=(0,a.z)((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[o])))?void 0:n}},6567:(e,t,n)=>{n.d(t,{ZM:()=>l,oJ:()=>i,up:()=>s});var r=n(7294);let a=(0,r.createContext)(null);a.displayName="OpenClosedContext";var o,l=((o=l||{})[o.Open=0]="Open",o[o.Closed=1]="Closed",o);function i(){return(0,r.useContext)(a)}function s({value:e,children:t}){return r.createElement(a.Provider,{value:e},t)}},4103:(e,t,n)=>{function r(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}n.d(t,{P:()=>r})},2984:(e,t,n)=>{function r(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let a=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,r),a}n.d(t,{E:()=>r})},5466:(e,t,n)=>{n.d(t,{r:()=>a});var r=n(3393);function a(e){return r.s?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}},2351:(e,t,n)=>{n.d(t,{AN:()=>i,oA:()=>p,sY:()=>c,yV:()=>f});var r,a,o=n(7294),l=n(2984),i=((a=i||{})[a.None=0]="None",a[a.RenderStrategy=1]="RenderStrategy",a[a.Static=2]="Static",a),s=((r=s||{})[r.Unmount=0]="Unmount",r[r.Hidden=1]="Hidden",r);function c({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:a,visible:o=!0,name:i}){let s=d(t,e);if(o)return u(s,n,r,i);let c=null!=a?a:0;if(2&c){let{static:e=!1,...t}=s;if(e)return u(t,n,r,i)}if(1&c){let{unmount:e=!0,...t}=s;return(0,l.E)(e?0:1,{0:()=>null,1:()=>u({...t,hidden:!0,style:{display:"none"}},n,r,i)})}return u(s,n,r,i)}function u(e,t={},n,r){let{as:a=n,children:l,refName:i="ref",...s}=h(e,["unmount","static"]),c=void 0!==e.ref?{[i]:e.ref}:{},u="function"==typeof l?l(t):l;s.className&&"function"==typeof s.className&&(s.className=s.className(t));let f={};if(t){let e=!1,n=[];for(let[r,a]of Object.entries(t))"boolean"==typeof a&&(e=!0),!0===a&&n.push(r);e&&(f["data-headlessui-state"]=n.join(" "))}if(a===o.Fragment&&Object.keys(p(s)).length>0){if(!(0,o.isValidElement)(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(s).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,o.cloneElement)(u,Object.assign({},d(u.props,p(h(s,["ref"]))),f,c,function(...e){return{ref:e.every((e=>null==e))?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}}(u.ref,c.ref)))}return(0,o.createElement)(a,Object.assign({},h(s,["ref"]),a!==o.Fragment&&c,a!==o.Fragment&&f),u)}function d(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let e in n)Object.assign(t,{[e](t,...r){let a=n[e];for(let e of a){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...r)}}});return t}function f(e){var t;return Object.assign((0,o.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function p(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function h(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}},3393:(e,t,n)=>{n.d(t,{s:()=>r});const r="undefined"==typeof window||"undefined"==typeof document}}]);